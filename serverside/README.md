## Overview

The server-side component of CaptureFlow provides an HTTP API for integrating with the client-side library. It supports:

- `/api/v1/traces`: For storing traces generated by the client-side library.
- `/api/v1/merge-requests/bugfix`: Initiates server actions to process traces with exception events, analyzes the CallGraph, enriches it with GitHub implementation context, and leverages AI to generate a fix in the form of a merge request (MR).

## Running Locally

### Dev Setup

For the development setup, ensure you have Python 3.8+, `venv`, and have installed the dependencies listed in `requirements-dev.txt`. Then, run `pytest` to check if the setup was successful.

### Prerequisites

To run the server-side component locally, you'll need:

1. **Docker Compose**: Essential for hosting the server-side application logic.
2. **GitHub App Instance**: Necessary for generating improvement MRs. Follow the detailed guide [here](https://github.com/CaptureFlow/captureflow-py/blob/main/assets/creating-github-app.md) to set up your GitHub app instance. You will need the `APP_ID` and `PRIVATE_KEY`.
3. **OpenAI Key**: Essential for code generation.

### Configuration

After securing your prerequisites, add your secrets into the [config.py](https://github.com/CaptureFlow/captureflow-py/blob/main/serverside/src/config.py). 

Alternatively, you can place them in a `.env` file inside the `serverside/` folder for running locally.

### Running

Launch the server with: `docker compose up --build`